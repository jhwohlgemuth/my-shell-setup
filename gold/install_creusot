#! /bin/bash
set -e

requires \
    cargo \
    git \
    libcairo2-dev \
    libgtk-3-dev \
    libgtksourceview-3.0-dev \
    pkg-config \
    rsync \
    why3 \
    z3
main() {
    #
    # Install Creusot
    #
    local SRC_DIRECTORY="${HOME}/creusot"
    git clone https://github.com/creusot-rs/creusot "${SRC_DIRECTORY}"
    pushd "${SRC_DIRECTORY}" > /dev/null
    ./INSTALL --external z3
    cargo creusot --help
    popd > /dev/null
}
main "$@"
